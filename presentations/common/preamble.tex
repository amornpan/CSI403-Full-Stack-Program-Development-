% ============================================
% CSI403 Full Stack Development
% Common Preamble for All Presentations
% SPU Chonburi - Semester 2/2568
% ============================================

\documentclass[aspectratio=169,11pt]{beamer}

% ============================================
% PACKAGES
% ============================================
% Theme
\usepackage{../common/beamerthemeSPU}

% Graphics
\usepackage{graphicx}
\graphicspath{{./images/}{../common/images/}}

% TikZ for diagrams
\usepackage{tikz}
\usetikzlibrary{shapes,arrows,positioning,fit,calc,shadows,decorations.pathreplacing}

% Tables
\usepackage{booktabs}
\usepackage{tabularx}
\usepackage{multirow}
\usepackage{colortbl}

% Code listings
\usepackage{listings}
\usepackage{minted}
\usemintedstyle{friendly}

% Boxes
\usepackage{tcolorbox}
\tcbuselibrary{skins,breakable}

% Math
\usepackage{amsmath}
\usepackage{amssymb}

% Icons
\usepackage{fontawesome5}

% Hyperlinks
\usepackage{hyperref}
\hypersetup{
    colorlinks=true,
    linkcolor=spumaroon,
    urlcolor=codeblue,
    citecolor=spumaroon
}

% ============================================
% LISTINGS SETTINGS
% ============================================
\lstset{
    basicstyle=\ttfamily\small,
    backgroundcolor=\color{codebackground},
    keywordstyle=\color{codeblue}\bfseries,
    stringstyle=\color{codegreen},
    commentstyle=\color{codegray}\itshape,
    numberstyle=\tiny\color{codegray},
    numbers=left,
    numbersep=5pt,
    breaklines=true,
    breakatwhitespace=true,
    tabsize=4,
    showspaces=false,
    showstringspaces=false,
    frame=single,
    framerule=0.5pt,
    rulecolor=\color{spulightmaroon},
    xleftmargin=15pt,
    framexleftmargin=15pt,
    aboveskip=10pt,
    belowskip=10pt
}

% Python style
\lstdefinestyle{python}{
    language=Python,
    morekeywords={self,True,False,None,as,with,yield,async,await},
    morestring=[b]""",
    morestring=[b]'''
}

% HTML style
\lstdefinestyle{html}{
    language=HTML,
    morekeywords={DOCTYPE,html,head,body,div,span,class,id,href,src}
}

% SQL style
\lstdefinestyle{sql}{
    language=SQL,
    morekeywords={INT,VARCHAR,DECIMAL,DATETIME,PRIMARY,KEY,FOREIGN,REFERENCES,
                  CREATE,TABLE,INSERT,INTO,VALUES,SELECT,FROM,WHERE,JOIN,ON,
                  UPDATE,SET,DELETE,DROP,ALTER,ADD,INDEX,CONSTRAINT}
}

% Bash style
\lstdefinestyle{bash}{
    language=bash,
    morekeywords={docker,docker-compose,pip,python,pytest,git,curl,cd,ls,mkdir}
}

% ============================================
% TCOLORBOX STYLES
% ============================================
\newtcolorbox{codebox}[1][]{
    colback=codebackground,
    colframe=spumaroon,
    boxrule=1pt,
    arc=3pt,
    fonttitle=\bfseries,
    title=#1
}

\newtcolorbox{infobox}[1][]{
    colback=spulightgray,
    colframe=codeblue,
    boxrule=1pt,
    arc=3pt,
    fonttitle=\bfseries,
    title=#1
}

\newtcolorbox{warningbox}[1][]{
    colback=orange!10,
    colframe=codeorange,
    boxrule=1pt,
    arc=3pt,
    fonttitle=\bfseries,
    title=#1
}

\newtcolorbox{successbox}[1][]{
    colback=green!10,
    colframe=codegreen,
    boxrule=1pt,
    arc=3pt,
    fonttitle=\bfseries,
    title=#1
}

% ============================================
% CUSTOM COMMANDS
% ============================================
% File path
\newcommand{\filepath}[1]{\texttt{\color{codepurple}#1}}

% Terminal command
\newcommand{\cmd}[1]{\texttt{\color{codegreen}\$ #1}}

% URL display
\newcommand{\urlbox}[1]{\fcolorbox{codeblue}{codebackground}{\texttt{\color{codeblue}#1}}}

% Keyboard key
\newcommand{\key}[1]{\fbox{\small\texttt{#1}}}

% Tech logo placeholder
\newcommand{\techlogo}[2][1cm]{\includegraphics[height=#1]{tech-icons/#2}}

% Week indicator
\newcommand{\weekheader}[2]{%
    \begin{tikzpicture}[remember picture,overlay]
        \node[anchor=north east,xshift=-0.5cm,yshift=-0.3cm,
              fill=spugold,text=spumaroon,font=\small\bfseries,
              rounded corners=3pt,inner sep=5pt] 
              at (current page.north east) {Week #1 | #2};
    \end{tikzpicture}
}

% Progress bar
\newcommand{\progressbar}[2]{%
    \begin{tikzpicture}
        \fill[spulightgray] (0,0) rectangle (10,0.3);
        \fill[spumaroon] (0,0) rectangle (#1,0.3);
        \node[anchor=west] at (10.2,0.15) {\small #2};
    \end{tikzpicture}
}

% ============================================
% TITLE PAGE LOGO
% ============================================
\titlegraphic{%
    \includegraphics[height=1.5cm]{spu_logo.png}
}

% ============================================
% COURSE INFORMATION
% ============================================
\newcommand{\coursetitle}{CSI403: Full Stack Development}
\newcommand{\coursesemester}{Semester 2/2568}
\newcommand{\instructor}{Aj. Methas Khamjad}
\newcommand{\university}{Sripatum University Chonburi}

% Default author/institute
\author[\instructor]{\instructor}
\institute[\university]{%
    School of Information Technology\\
    \university
}

\endinput
